- virtual_network.hotplug.attach_interface_with_options_vm_status:
    type = attach_interface_with_options_vm_status
    start_vm = "no"

    # Interface configuration
    iface_type = "network"
    iface_source = "default"
    iface_model = "virtio"

    # Test variants for different VM states and options
    variants:
        - vm_running:
            vm_state = "running"
            variants:
                - no_option:
                    test_flags = ""
                    status_error = "no" 
                    expected_active_xml = "yes"
                    expected_inactive_xml = "no"
                    expected_vm_interface = "yes"
                - live_option:
                    test_flags = "--live"
                    status_error = "no"
                    expected_active_xml = "yes"
                    expected_inactive_xml = "no"
                    expected_vm_interface = "yes"
                - config_option:
                    test_flags = "--config"
                    status_error = "no"
                    expected_active_xml = "no"
                    expected_inactive_xml = "yes"
                    expected_vm_interface = "no"
                - persistent_option:
                    test_flags = "--persistent"
                    status_error = "no"
                    expected_active_xml = "yes"
                    expected_inactive_xml = "yes"
                    expected_vm_interface = "yes"
                - current_option:
                    test_flags = "--current"
                    status_error = "no"
                    expected_active_xml = "yes"
                    expected_inactive_xml = "no"
                    expected_vm_interface = "yes"
                - config_live_option:
                    test_flags = "--config --live"
                    status_error = "no"
                    expected_active_xml = "yes"
                    expected_inactive_xml = "yes"
                    expected_vm_interface = "yes"
                - current_live_option:
                    test_flags = "--current --live"
                    status_error = "yes"
                    expected_error = "are mutually exclusive"
        - vm_shutoff:
            vm_state = "shutoff"
            variants: 
                - no_option: 
                    test_flags = ""
                    status_error = "yes"
                    expected_error = "domain is not running"
                - live_option:
                    test_flags = "--live"
                    status_error = "yes"
                    expected_error = "domain is not running"
                - config_option:
                    test_flags = "--config"
                    status_error = "no"
                    expected_inactive_xml = "yes"
                - persistent_option:
                    test_flags = "--persistent"
                    status_error = "no"
                    expected_inactive_xml = "yes"
                - current_option:
                    test_flags = "--current"
                    status_error = "no"
                    expected_inactive_xml = "yes"
                - config_live_option:
                    test_flags = "--config --live"
                    status_error = "yes"
                    expected_error = "domain is not running"
                - current_live_option:
                    test_flags = "--current --live"
                    status_error = "yes"
                    expected_error = "are mutually exclusive"
